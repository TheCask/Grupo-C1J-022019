language: java
dist: trusty
sudo: required
before_install:
  - sudo apt-get install jq
  - wget -O ~/codacy-coverage-reporter-assembly-latest.jar $(curl https://api.github.com/repos/codacy/codacy-coverage-reporter/releases/latest | jq -r .assets[0].browser_download_url)
after_success:
  - java -jar ~/codacy-coverage-reporter-assembly-latest.jar report -l Java -r target/site/jacoco-ut/jacoco.xml
jdk:
  - oraclejdk8
branches:
  only:
    - master
install:
  - cd desapp-groupj-backend
  - mvn clean install -Dmaven.compiler.target=1.8 -Dmaven.compiler.source=1.8
deploy:
  provider: heroku
  api_key:
    secure: oQlCezVtVsvjnzCGRGeT4E3a9cH8BRHz92Zx4ZbBLF5f9kP4Xd625hFq1iNQKD9CKadaV6YqINIHykxOucxYGSXIPbfA6wWrjFyDWR3VO9xWiZB01Lv5w5fluRdETi1PDmkySSJPdftock4rOdZwvOfdNiRHZrwaxSQFwpStVZblb9apofV70DkUl0b1bK7Fnx+tHOZq0zGMu77n8Ozrcmsg8CyaFU4jaZv7KkkvizMbxCGVdVJ4MXBu5Fj2i28QECjKF+Iz8a4/WiuHIVKWCrDhYeoRKJ/+aSkEU9WwMTia6gyXrU5oIbyo5PvMWuOyyFO+XrSGJo7Q2tMAN/Nw6sL5/WJ94Ogm4378S8mKw3ha/EOw6I1KNktjBRfV9eqR1qbv7osd2p+KIVpVnQOWyTyqbFoqb2w3T7eNEV8F4m/dYycQYdIGNI/Vx+jXZNuEGqf14fExcWvRw8G89GEl3FR06/3jpOKlpwtZ6A40PmJ6H7jIt1znAEtE/al92UWSZ0SSlA8/+F0Hozt/2yyVPqQpzXdgavJV+NmysMUjvysJrmGlK6rS33n3Qd5StGHDTsN5ICLcq4+EANn9fp63r+ZOL0LSyQAgRNvq7ysxXlE28S4+1BRI/8y4w8YanzIxmpE5pr+FSgzfvrdy4CE3pwZAwXWiRg9v0DXN5AgdxJk=
  app: viendas-ya-c1j
